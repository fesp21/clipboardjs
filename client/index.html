<head>
    <title>ClipboardJS</title>
</head>
<body>
<div class="app">
    <div class="container-fluid">
        <div class="row-fluid">
            <div id="content" class="content">
                {{> user}}
                {{> create}}
                {{> message_view}}
            </div>
            <div id="sidebar" class="sidebar">
                {{> list}}
            </div>
        </div>
    </div>
</div>
{{> blocker}}
</body>

<template name="navigation">
    <ul class="nav">
        <li{{#if is_active}} class="active"{{/if}}><a href="/list" class="internal-link"><i class="icon-edit icon-white"></i>
        Paste</a></li>
    </ul>
</template>
<template name="user">
    {{#if show}}
    {{#with user}}
    <div class="user pull-right btn-group">
        <a class="user-drop btn btn-small {{#if is_registered}}btn-success{{else}}btn-warning{{/if}}" href="user-actions"><i class="icon-user icon-white"></i> {{user_name}}</a>
        <a class="user-drop btn btn-small {{#if is_registered}}btn-success{{else}}btn-warning{{/if}} dropdown-toggle" data-toggle="dropdown" href="user-actions"><span class="caret"></span></a>
        <ul id="user-actions" class="dropdown-menu">
            {{#if is_registered}}
            <li><a href="#" class="logout" title="Logout"><i class="icon-off"></i> Logout</a></li>
            {{else}}
            <li><a href="#" class="login" title="Login"><i class="icon-lock"></i> Login</a></li>
            <li class="divider"></li>
            <li><a href="#" class="create" title="Register"><i class="icon-user"></i> Register</a></li>
            {{/if}}
        </ul>
    </div>
    {{/with}}
    {{/if}}
</template>
<template name="list">
    <h1 id="logo">ClipboardJS</h1>

    {{#if show}}
    <ul class="nav nav-list">
        <li class="nav-link-icon{{#if is_pasting}} active{{/if}}"><a href="/list" class="internal-link" title="Paste something"><i
            class="icon-plus-sign"></i> Paste something</a></li>
        <li class="nav-header">Your messages</li>
    </ul>
    <ul class="nav nav-list messages-list">
        {{#if are_messages_available}}
        {{#each messages}}
        {{> message_abstr}}
        {{/each}}
        {{else}}
        {{/if}}
        <li class="nav-header">Bookmarked messages</li>
    </ul>
    <ul class="nav nav-list messages-list">
        {{#if are_bookmarked_messages_available}}
        {{#each bookmarked_messages}}
        {{> message_bookmarked_abstr}}
        {{/each}}
        {{else}}
        <li><span class="label label-info">Sorry! No bookmarks available yet.</span></li>
        {{/if}}
    </ul>
    {{/if}}
</template>

<template name="message_abstr">
    <li {{#if is_active short_id}} class="active"{{/if}}>
    <a href="/message/{{short_id}}" 
       class="message-link internal-link">
        <span class="message-abstr">{{{abstract}}}</span>
    </a>
    <div class="popover message-abstract bottom">
        <div class="arrow"></div>
        <h6 class="popover-title"><i class='icon-user'></i> {{user_name}}<span class="pull-right">{{get_date time}}</span></h6>
        <div class="popover-content">
            <pre><code class='{{language}}'>{{{abstract}}}</code></pre>
        </div>
    </div>
    </li>
</template>
<template name="message_bookmarked_abstr">
    <li {{#if is_active short_id}} class="active"{{/if}}>
    <a href="/message/{{short_id}}"
       class="message-link internal-link">
        <span class="message-abstr">{{{abstract}}}</span>
    </a>
    <div class="popover message-abstract bottom">
        <div class="arrow"></div>
        <h3 class="popover-title"><i class='icon-user'></i> {{user_name}}</h3>
        <div class="popover-content">
            <p><pre><code class='{{language}}'>{{{abstract}}}</code></pre></p>
        </div>
    </div>
</template>

<template name="create">
    {{#if show}}
    <div class="show">
        <input type="hidden" name="current-lang-notepad" value="plain">
        <div class="clearfix">
            <div class="text-type pull-left btn-group">
                    <button class="current-lang btn btn-small btn-info" data-toggle="dropdown"><i class="icon-font icon-white"></i> Plain Text</button>
                    <button class="btn btn-small btn-info dropdown-toggle" data-toggle="dropdown">
                        <span class="caret"></span>
                    </button>
                <ul class="dropdown-menu">
                    <li class="active" data-val="plain"><a href="#">Plain text</a></li>
                    <li><a href="#" data-val="auto">Auto Detection</a></li>
                    <li><a href="#" data-val="html">HTML</a></li>
                    <li><a href="#" data-val="javascript">Javascript</a></li>
                    <li><a href="#" data-val="coffeescript">Coffeescript</a></li>
                </ul>
            </div>
            <p class="pull-left">
                <button class="preview show-preview btn btn-small" title="Show Preview" data-placement="bottom"><i class="icon-screenshot"></i></button>
                <button class="preview hide-preview btn btn-small btn-success" title="Close Preview" data-placement="bottom"><i class="icon-screenshot icon-white"></i></button>
            </p>
        </div>
        <p></p>
        <div>
            <div class="row-fluid">
                <div class="span9 text-board-wrapper">
                    <div class="message-view">
                        <p class="message-detail">
                            <span class="lang current-lang">Plain text</span>
                        </p>
                        <pre class="prettyprint"><p class="text-board" id="text-content" contenteditable="true"></p><code class="plain"></code></pre>
                    </div>
                </div>
            </div>
            <div class="row-fluid">
                <div class="span9">
                    <button class=" btn btn-large btn-block paste-text-board"><strong>Save Snippet</strong></button>
                </div>
            </div>
        </div>
    </div>
    </div>
    {{/if}}
</template>

<template name="message_view">
    {{#if show}}
    {{#with message}}
    <div class="clearfix">
        <p class="message-actions pull-left btn-group">
            {{#if is_bookmarked _id}}
            <button class="remove-bookmark btn btn-small btn-info collapsing-btn" title="remove bookmark" data-placement="bottom" data-original-title="remove bookmark"><i class="icon-bookmark icon-white"></i></button>
            {{else}}
            <button class="add-bookmark btn btn-small collapsing-btn" title="add bookmark" data-placement="bottom" data-original-title="add bookmark"><i class="icon-bookmark"></i></button>
            {{/if}}
            <button class="share btn btn-small collapsing-btn" title="share message" data-placement="bottom" data-original-title="share message"><i class="icon-share"></i></button>
            <button class="raw btn btn-small collapsing-btn" title="show raw message" data-placement="bottom" data-original-title="show raw message"><i class="icon-align-justify"></i></button>
        </p>
    </div>
    {{/with}}
    <div class="message-view loading">
        <pre class="prettyprint"><code></code></pre>
    </div>
    {{/if}}
</template>
<template name="message_detail">
    <p class="message-detail">
        <span class="lang">{{language}}</span></span>
    </p>
    <p class="author-detail">
        <span class="lang"><span class="">{{user_name}}</span>
    </p>
    <pre class="prettyprint"><code class={{language}}>{{{highlighted}}}</code></pre>
</template>
<template name="message_detail_unavailable">
    <div class="alert alert-block">
        <h4>:(</h4>

        <p>The message you requested is unavailable</p>
    </div>
</template>
    
<template name="message_raw">
    <div class="raw-file">
        <button class="close">&times;</button>
        <textarea>{{message}}</textarea>
    </div>
</template>
<template name="blocker">
    {{#if block}}
    <div class="blocker">
        <div></div>
    </div>
    {{/if}}
</template>


<template name="share_message_modal">
    <div class="modal share-message hide fade">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h3>Permalink to this message</h3>
        </div>
        <div class="modal-body">
            <input type="text" value="{{url}}">
        </div>
    </div>
</template>
<template name="user_create_modal">
    <div class="modal hide fade">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h3>{{title}}</h3>
        </div>
        <form class="form-horizontal">
            <div class="modal-body">
                <div class="control-group username">
                    <label class="control-label" for="username">Username</label>

                    <div class="controls">
                        <input type="text" id="username" name="username" value="{{user_name}}">
                        <span class="help-block">Select a unique username with at least 4 characters</span>
                    </div>
                </div>
                <div class="control-group pwd">
                    <label class="control-label" for="pwd">Your password</label>

                    <div class="controls">
                        <input type="password" id="pwd" name="pwd">
                        <span class="help-block">Add a password with at least 6 characters</span>
                    </div>
                </div>
            </div>
        </form>
        <div class="modal-footer">
            <button class="btn cancel">Close</button>
            <button class="btn btn-primary save">{{submit_text}}</button>
        </div>
    </div>
</template>